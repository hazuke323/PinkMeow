{"version":3,"sources":["file:///Users/huwenting/Documents/Web3Pink/PinkMCat/assets/src/Cat.ts"],"names":["_decorator","Component","Node","tween","Lobby","ccclass","property","Cat","onLoad","console","log","initMovePostionList","start","update","deltaTime","moveCat","node","to","position","moveList","shift","call","length","movePostionList","moveNode","children","i","push","ClickCat","instance","openDetailsView"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,K,OAAAA,K;;AAC7BC,MAAAA,K,iBAAAA,K;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;qBAGjBO,G,WADZF,OAAO,CAAC,KAAD,C,UAELC,QAAQ,CAACJ,IAAD,C,2BAFX,MACaK,GADb,SACyBN,SADzB,CACmC;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AASvBO,QAAAA,MAAM,GAAS;AACvBC,UAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACA,eAAKC,mBAAL;AACAF,UAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACD;;AAEDE,QAAAA,KAAK,GAAG,CAAE;;AAEVC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAAE,CAjBK,CAmBjC;;;AAEAC,QAAAA,OAAO,GAAG;AACRZ,UAAAA,KAAK,CAAC,KAAKa,IAAN,CAAL,CACGC,EADH,CACM,CADN,EACS;AAAEC,YAAAA,QAAQ,EAAE,KAAKC,QAAL,CAAcC,KAAd;AAAZ,WADT,EAEGC,IAFH,CAEQ,MAAM;AACV,gBAAI,KAAKF,QAAL,CAAcG,MAAd,IAAwB,CAA5B,EAA+B;AAC7B,mBAAKH,QAAL,GAAgB,KAAKI,eAArB;AACD;;AACD,iBAAKR,OAAL;AACD,WAPH;AAQD;;AAEDJ,QAAAA,mBAAmB,GAAG;AACpB,cAAI,KAAKa,QAAL,IAAiB,IAArB,EAA2B;AACzBf,YAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACD;;AAED,gBAAMe,QAAQ,GAAG,KAAKD,QAAL,CAAcC,QAA/B;;AACA,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,QAAQ,CAACH,MAA7B,EAAqCI,CAArC,EAAwC;AACtC,iBAAKH,eAAL,CAAqBI,IAArB,CAA0BF,QAAQ,CAACC,CAAD,CAAR,CAAYR,QAAtC;AACD;;AACD,eAAKC,QAAL,GAAgB,KAAKI,eAArB;AACAd,UAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB,KAAKS,QAAL,CAAcG,MAArC;AACD;;AAEDM,QAAAA,QAAQ,GAAG;AACT;AAAA;AAAA,8BAAMC,QAAN,CAAeC,eAAf;AACArB,UAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACD;;AAhDgC,O;;;;;iBAEhB,I;;0FAEhBJ,Q;;;;;iBACiB,E;;mFACjBA,Q;;;;;iBACU,E","sourcesContent":["import { _decorator, Component, Node, tween } from 'cc'\r\nimport { Lobby } from './Lobby'\r\nconst { ccclass, property } = _decorator\r\n\r\n@ccclass('Cat')\r\nexport class Cat extends Component {\r\n  @property(Node)\r\n  moveNode: Node = null\r\n\r\n  @property\r\n  movePostionList = []\r\n  @property\r\n  moveList = []\r\n\r\n  protected onLoad(): void {\r\n    console.log('++++++++++-----------')\r\n    this.initMovePostionList()\r\n    console.log('++++++++++')\r\n  }\r\n\r\n  start() {}\r\n\r\n  update(deltaTime: number) {}\r\n\r\n  //   this.moveList = []\r\n\r\n  moveCat() {\r\n    tween(this.node)\r\n      .to(1, { position: this.moveList.shift() })\r\n      .call(() => {\r\n        if (this.moveList.length <= 0) {\r\n          this.moveList = this.movePostionList\r\n        }\r\n        this.moveCat()\r\n      })\r\n  }\r\n\r\n  initMovePostionList() {\r\n    if (this.moveNode == null) {\r\n      console.log('teataeta ------- null')\r\n    }\r\n\r\n    const children = this.moveNode.children\r\n    for (let i = 0; i < children.length; i) {\r\n      this.movePostionList.push(children[i].position)\r\n    }\r\n    this.moveList = this.movePostionList\r\n    console.log('-------', this.moveList.length)\r\n  }\r\n\r\n  ClickCat() {\r\n    Lobby.instance.openDetailsView()\r\n    console.log('-------')\r\n  }\r\n}\r\n"]}